function uiElementProvider(){function a(a,d,e,f,g,h,i,j,k){function l(a){angular.extend(this,a),this.options.children=this.options.children||[],this.$element=this.element,this.$children=this.$children||[]}return l.prototype.addChild=function(a){this.options.children.push(a)},l.prototype.compile=function(b,c){function k(){if(p.options.scope=p.options.scope||i.$new(),p.options.resolve&&_.extend(p.options.scope,p.options.resolve),p.options.controller){var a=j(p.options.controller,{$scope:p.options.scope});p.options.controllerAs&&(p.options.scope[p.options.controllerAs]=a)}}function l(){return p.options.templateUrl?d.get(p.options.templateUrl,{cache:f}).then(function(a){p.$element.html(a.data)}):g.when()}function m(){var d,f;return d=g.defer(),k(),p.parent?((p.options.beforeCompile||function(){})(p),p.$element=e(p.$element)(p.options.scope),f=p.parent,a(function(){p.options.animate?h.enter(p.$element,f.$element,b).then(function(){d.resolve()}):f.$element.append(p.$element)},c),d.promise):g.when(p)}function n(){var a=g.defer();return l().then(function(){m().then(function(){a.resolve()})}),a.promise}function o(){var a=null,b=0;angular.forEach(p.options.children,function(c){if(!c||!c.$element)throw"$uiElement: Invalid element given";c.parent=p,c.options.scope=p.options.scope,q.push(c.compile(a,b).then(function(a){p.$children.push(a)})),b+=c.options.animation.duration,a=c.$element})}var p,q;return p=this,q=[],q.push(n()),q.push(o()),g.all(q).then(function(){return p})},l.prototype.remove=function(b,c){var d,b,e,f;return f=this,e=g.defer(),d=b||0,b=0,angular.forEach(this.$children.reverse(),function(a){a.remove(b,!0).then(function(){var b=f.$children.indexOf(a);f.$children.splice(b,1)}),d+=a.options.animation.duration,b+=a.options.animation.duration}),a(function(){f.options.animation?h.leave(f.$element).then(function(){e.resolve()}):(f.$element.remove(),e.resolve())},d),a(function(){i.$apply()}),e.promise.then(function(){return c||f.options.scope.$destroy(),f})},function(a){var d,e=angular.extend({},b,c,a);if(d=angular.element("<"+e.tag+" />"),e.selector&&(d=k.findElement(e.selector),!d.length))throw"$uiElement: Selector '"+e.selector+"' hasn't found the element";return e.css&&d.css(e.css),e["class"]&&d.attr("class",e["class"]),e.animation&&d.addClass(e.animation["class"]),new l({options:e,element:d})}}var b={tag:"div",animation:{duration:0,"class":""},animate:!1},c={};this.options=function(a){angular.extend(c,a)},this.$get=a}function uiModal(a,b){function c(c,d,e){if(c.init=function(){},c.close=function(a){c.$uiModal.close(a)},c.$uiModal.container&&c.$uiModal.container.element){var f=angular.element(c.$uiModal.container.element);f.bind("click",function(b){function d(){c.close(),a(function(){c.$apply()})}var e=angular.element(b.toElement);e[0].parentElement===c.$uiModal.element.element[0]&&d()})}b.bind("keydown",function(b){27===b.which&&(c.close(),a(function(){c.$apply()}))})}return{restrict:"E",replace:!0,transclude:!0,templateUrl:"templates/ui/ui-modal.html",link:c}}function uiModalProvider(){function a(a,d,e){function f(a){return this.options=angular.extend({},b,c,a),this.deferred=d.defer(),this.target=e({selector:this.options.target,scope:this.createScope()}),this.container=e({"class":"ui-container"}),this.options.backdrop&&(this.backdrop=e({"class":"ui-backdrop",animation:{"class":"ui-fade",duration:100},animate:!0}),this.container.addChild(this.backdrop)),this.element=e(this.options),this.container.addChild(this.element),this.target.addChild(this.container),this.target.compile(),this}return f.prototype.promise=function(){return this.deferred.promise},f.prototype.createScope=function(){var b=a.$new();return b.$uiModal=this,b},f.prototype.close=function(a){var b=this;if(this.options.closeable)return this.container.options.scope.$destroy(),this.container.remove().then(function(){b.deferred.resolve(a)})},function(a){return new f(a)}}var b={tag:"ui-modal","class":"ui-modal",animation:{"class":"ui-slide-top",duration:200},animate:!0,backdrop:!0,target:"body",closeable:!0},c={};this.options=function(a){angular.extend(c,a)},this.$get=a}function uiPopover(a,b){function c(c,d,e){if(c.init=function(){},c.close=function(a){c.$uiPopover.close(a)},c.$uiPopover.container&&c.$uiPopover.container.element){var f=angular.element(c.$uiPopover.container.element);f.bind("click",function(b){var d=angular.element(b.toElement);c.$uiPopover.backdrop&&d[0]===c.$uiPopover.backdrop.element[0]&&(c.close(),a(function(){c.$apply()})),d[0]===c.$uiPopover.container.element[0]&&(c.close(),a(function(){c.$apply()}))})}b.bind("keydown",function(b){27===b.which&&(c.close(),a(function(){c.$apply()}))})}return{restrict:"E",replace:!0,transclude:!0,templateUrl:"templates/ui/ui-popover.html",link:c}}function uiPopoverProvider(){function a(a,d,e,f){function g(a){return this.options=angular.extend({},b,c,a),this.deferred=d.defer(),this.target=e({selector:this.options.target,scope:this.createScope()}),this.container=e({"class":"ui-container"}),this.options.backdrop&&(this.backdrop=e({"class":"ui-backdrop ui-popover-backdrop",animation:{"class":"ui-fade",duration:100},animate:!0}),this.container.addChild(this.backdrop)),this.popover=e(this.options),this.container.addChild(this.popover),this.target.addChild(this.container),this.target.compile(),this}return g.prototype.createScope=function(){var b=a.$new();return b.$uiPopover=this,b},g.prototype.close=function(a){return this.deferred.resolve(a),this.container.remove()},g.prototype.promise=function(){return this.deferred.promise},function(a){return new g(a)}}var b={tag:"ui-popover","class":"ui-popover",animation:{"class":"ui-fade",duration:100},animate:!0,backdrop:!0,target:"body"},c={};this.options=function(a){angular.extend(c,a)},this.$get=a}function uiToggleCheckbox(){function a(a,b,c){a.model=a.model||!1;var d;a.$watch("model",function(b,c){b===!0&&d===!1&&(a.onTrue||function(){})(),b===!1&&d===!0&&(a.onFalse||function(){})(),d=b})}return{replace:!0,scope:{model:"=?",onTrue:"=?",onFalse:"=?"},template:'<label class="ui-toggle-checkbox"> <input type="checkbox" ng-model="model"> <span></span> </label>',link:a}}function uiTools(a,b){function c(a,b){return angular.element((b||document).querySelector(a))}function d(a){a.css({visibility:"hidden",position:"absolute"});var b=c("body");b.append(a);var d={width:a[0].offsetWidth,height:a[0].offsetHeight};return a.removeAttr("style"),a.remove(),d}this.findElement=c,this.measure=d}angular.module("angular-ui-components",[]),angular.module("angular-ui-components").run(function(a){a.put("templates/ui/ui-modal.html",'<div class="ui-modal"><div class="ui-modal-container"><div class="ui-modal-dialog"><div class="ui-modal-content"><ng-transclude></ng-transclude></div></div></div></div>'),a.put("templates/ui/ui-popover.html",'<div class="ui-popover"><div class="ui-popover-inner"><ng-transclude></ng-transclude></div></div>')}),angular.module("angular-ui-components").provider("$uiElement",uiElementProvider),angular.module("angular-ui-components").directive("uiModal",uiModal),angular.module("angular-ui-components").provider("$uiModal",uiModalProvider),angular.module("angular-ui-components").directive("uiPopover",uiPopover),angular.module("angular-ui-components").provider("$uiPopover",uiPopoverProvider),angular.module("angular-ui-components").directive("uiToggleCheckbox",uiToggleCheckbox),angular.module("angular-ui-components").service("uiTools",uiTools);